-- ============================================================================
-- TABLA DE DEPENDENCIAS
-- ============================================================================

USE hacienda_db;

-- Eliminar tabla si existe
DROP TABLE IF EXISTS dependencias;

-- Crear tabla de dependencias
CREATE TABLE dependencias (
    id INT AUTO_INCREMENT PRIMARY KEY,
    depe_codi VARCHAR(20) NOT NULL UNIQUE COMMENT 'Código de la dependencia',
    depe_nomb VARCHAR(255) NOT NULL COMMENT 'Nombre de la dependencia',
    depe_sigla VARCHAR(50) NULL COMMENT 'Sigla de la dependencia',
    activo TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_depe_codi (depe_codi),
    INDEX idx_depe_sigla (depe_sigla)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Insertar dependencias (ignorar duplicados)
INSERT IGNORE INTO dependencias (depe_codi, depe_nomb, depe_sigla) VALUES
('4183010', 'Unidad Administrativa Especial de Protección Animal', 'UAEPA'),
('4143010', 'SECRETARIA DE EDUCACION', 'SE'),
('419060', 'Dependencia de Prueba', 'DEP'),
('4143090', 'Subsecretaria de Planeación Sectorial', 'SPS'),
('4133020', 'Subdirección de Gestión de Calidad Ambiental', 'SGCA'),
('4133030', 'Subdirección de Gestión Integral de Ecosistemas y Unidad Municipal de Asistencia Técnica Agropecuaria', 'SGIEUMTAUMATA'),
('419050', 'Dirección de Salida', 'DS'),
('4173401', 'CALI 1', NULL),
('4147040', 'Subsecretaria de Mejoramiento Urbano y Legalización', 'SMUL'),
('4147050', 'Subsecretaria de Gestión de Suelo y Oferta de Vivienda', 'SGSOV'),
('4182010', 'Unidad Administrativa Especial de Servicios Públicos Municipales', 'UAESPM'),
('4148010', 'SECRETARIA DE VIVIENDA SOCIAL Y HABITAT', 'SVSH'),
('4151030', 'Subsecretaria de Apoyo Técnico', 'SAT'),
('4151020', 'Subsecretaria de Infraestructura y Mantenimiento Vial', 'SIMV'),
('4151010', 'SECRETARIA DE INFRAESTRUCTURA', 'SI'),
('4143010', 'DEPARTAMENTO ADMINISTRATIVO DE DESARROLLO E INNOVACIÓN INSTITUCIONAL', 'DADII'),
('4151050', 'Subsecretaria de Acceso a Servicios de Justicia', 'SASJ'),
('4151040', 'Subsecretaria de Servicios de Movilidad', 'SSM'),
('4146010', 'Subsecretaria de Movilidad Sostenible y Seguridad Vial', 'SMSSV'),
('4152014', 'Oficina de contravenciones', NULL),
('4146000', 'SECRETARIA DE MOVILIDAD', 'SM'),
('4173422', 'CALI 22', NULL),
('4173420', 'CALI 20', 'CAL20'),
('4173421', 'CALI 21', 'CAL21'),
('4173419', 'CALI 19', 'CAL19'),
('4173418', 'CALI 18', 'CAL18'),
('4173417', 'CALI 17', 'CAL17'),
('4173416', 'CALI 16', 'CAL16'),
('4173415', 'CALI 15', 'CAL15'),
('4173414', 'CALI 14', 'CAL14'),
('4173413', 'CALI 13', 'CAL13'),
('4173412', 'CALI 12', 'CAL12'),
('4173411', 'CALI 11', 'CAL11'),
('4173410', 'CALI 10', 'CAL10'),
('4173409', 'CALI 9', 'CAL9'),
('4173408', 'CALI 8', 'CAL8'),
('4173407', 'CALI 7', 'CAL7'),
('4173406', 'CALI 6', 'CAL6'),
('4140020', 'Subsecretaria de Artes Creación y Promoción Cultural', 'SACPC'),
('4140070', 'Subsecretaria de Patrimonio Bibliotecas e Infraestructura Cultural', 'SPBIC'),
('4173402', 'CALI 2', 'CAL2'),
('4173403', 'CALI 3', 'CAL3'),
('4173404', 'CALI 4', 'CAL4'),
('4140010', 'CALI 9', 'CAL9D'),
('4173150', 'Subsecretaría de Territorios de Inclusión y Oportunidades Urbano y Rur', 'STIOUR'),
('4173090', 'Subsecretaria de Promoción y Fortalecimiento de la Participación', 'SPFP'),
('4173000', 'SECRETARÍA DE DESARROLLO TERRITORIAL Y PARTICIPACIÓN CIUDADANA', 'SPPC'),
('4169020', 'Subsecretaria de Infraestructura Deportiva y Recreativa', 'SIDR'),
('4169030', 'Subsecretaría de Fomento', NULL),
('4169010', 'SECRETARIA DE DEPORTE Y LA RECREACION', 'SDEYR'),
('4140060', 'Unidad Administrativa Especial Estudios Tokioshima', 'UAEFT'),
('4140050', 'Unidad Administrativa Especial del Teatro Municipal', 'UAETM'),
('4173474', 'CALI 15', NULL),
('4140010', 'SECRETARIA DE CULTURA', 'SC'),
('4172050', 'SECRETARIA DE TURISMO', 'ST'),
('4172040', 'Subsecretaria de Servicios Productivos y Comercio Colaborativo', 'SSPC'),
('4140010', 'Oficina Técnica Operativa de Cobro Coactivo', 'OTOCC'),
('4142060', 'Subsecretaria de Cobertura Educativa', NULL),
('4143060', 'Subsecretaria Administrativa y Financiera', NULL),
('4145011', 'Oficina Técnica Operativa de Cobro Persuasivo', 'OTOCP'),
('4145010', 'SECRETARIA DE SALUD', 'SS'),
('4161060', 'Subsecretaria de Inspección Vigilancia y Control', 'SIVC'),
('4174090', 'Subsecretaria de Gobierno de Valle', NULL),
('4172010', 'SECRETARIA DE DESARROLLO ECONOMICO', 'SDE'),
('4151050', 'Subdirección de Tesorería Municipal', 'STM'),
('4174100', 'Subsecretaria de Espacio Público', NULL),
('4171090', 'DEPARTAMENTO ADMINISTRATIVO DE HACIENDA MUNICIPAL', 'DAHM'),
('4171040', 'Subdirección de Gestión Estratégica del Talento Humano', 'SGETH'),
('4174060', 'Subdirección de Gestión Organizacional', NULL),
('4174050', 'DEPARTAMENTO ADMINISTRATIVO DE CONTROL DISCIPLINARIO INTERNO', 'DACDI'),
('4172010', 'DEPARTAMENTO ADMINISTRATIVO DE CONTROL INTERNO', 'DACI'),
('4171050', 'Subdirección Jurídica y Prevención del Daño Antijurídico', 'SJPDA'),
('4171020', 'Subdirección de Doctrina y Asuntos Normativos', 'SDAN'),
('4122010', 'DEPARTAMENTO ADMINISTRATIVO DE GESTIÓN JURÍDICA PÚBLICA', 'DAGJP'),
('4117010', 'Oficina de Comunicaciones', NULL),
('4112050', 'Oficina de la Secretaría Privada', 'OSP'),
('4117010', 'DESPACHO DEL ALCALDE', NULL),
('4117040', 'Oficina Asesora de Transparencia', 'OAT'),
('4141200', 'SECRETARIA DE GOBIERNO', NULL),
('4135030', 'Subsecretaria Protección de la Salud y Prestación de Servicios', 'SPSPS'),
('4135020', 'Subsecretaria de la Primera Infancia', NULL),
('4149040', 'Subsecretaria de Equidad de Género', 'SEG'),
('4148050', 'Subsecretaria de Atención Integral a Víctimas', NULL),
('4148040', 'Subsecretaria de Poblaciones y Etnias', 'SPE'),
('4148010', 'SECRETARIA DE BIENESTAR SOCIAL', 'SBS'),
('4149030', 'Subsecretaria para el Manejo de Desastres', NULL),
('4149020', 'Subsecretaria para el Conocimiento y la Reducción del Riesgo', 'SCRR'),
('4149010', 'SECRETARIA DE GESTIÓN DEL RIESGO DE EMERGENCIAS Y DESASTRES', 'SGRED'),
('4149050', 'Subsecretaria de Promoción Prevención y Protección Social de la Salud', 'SPPSS'),
('4161040', 'Subsecretaria de la Policía de Seguridad', NULL),
('4161010', 'SECRETARIA DE SEGURIDAD Y JUSTICIA', 'SSJ'),
('4130050', 'Secretaria de Asuntos Ambientales', 'SAA'),
('4130010', 'SECRETARIA DE PAZ', NULL),
('4162050', 'Subdirección de Derechos Humanos y Construcción de Paz', 'SDHCP'),
('4164060', 'Subdirección de Prevención y Cultura Ciudadana', NULL),
('4164050', 'SECRETARIA DE PAZ Y CULTURA CIUDADANA', NULL),
('4173471', 'CALI 21', 'CAL21RURAL'),
('4121055', 'Oficina de Relaciones y Cooperación', NULL),
('4121050', 'Unidad Administrativa Especial de Gestión de Bienes y Servicios', 'UAEGBS'),
('4135030', 'Subsecretaria de Gestión del Conocimiento y la Innovación', 'SGCI'),
('4135020', 'Subdirección de Abastecimiento Estratégico', NULL),
('4134030', 'DEPARTAMENTO ADMINISTRATIVO DE CONTRATACIÓN PÚBLICA', 'DACP'),
('4134030', 'Subdirección de Innovación Digital', 'SID'),
('4134020', 'Subdirección de Tecnología Digital', NULL),
('4134010', 'DEPARTAMENTO ADMINISTRATIVO DE TECNOLOGÍAS DE LA INFORMACIÓN Y LAS COMUNICACIONES', 'DATIC'),
('4132050', 'Subdirección de Planificación del Territorio', 'SPT'),
('4132040', 'Subdirección de Desarrollo Integral', NULL),
('4132030', 'Subdirección de Espacio Público y Ordenamiento Urbanístico', 'SEPOU'),
('4132010', 'DEPARTAMENTO ADMINISTRATIVO DE PLANEACIÓN MUNICIPAL', 'DAPM'),
('4131060', 'Contraloría General del Municipio de Santiago de Cali', 'CGMSC'),
('4131040', 'Subdirección de Catastro Municipal', NULL),
('4131080', 'Subdirección de Impuestos y Rentas Municipales', 'SIRM'),
('4131070', 'Subdirección de Trámites Servicios y Gestión Documental', 'STGSD'),
('4131041', 'Oficina Técnica Operativa de Fiscalización y Determinación de Rentas', 'OTOFDR'),
('4133010', 'DEPARTAMENTO ADMINISTRATIVO DE GESTIÓN DEL MEDIO AMBIENTE', 'DAGMA'),
('4143060', 'Secretaria de Calidad Educativa', NULL),
('4173404', 'CALI 4', 'CAL4'),
('4173405', 'CALI 5', 'CAL5'),
('4173406', 'CALI 6', 'CAL6');

SELECT 'Tabla de dependencias creada exitosamente' AS mensaje, COUNT(*) AS total_registros FROM dependencias;
